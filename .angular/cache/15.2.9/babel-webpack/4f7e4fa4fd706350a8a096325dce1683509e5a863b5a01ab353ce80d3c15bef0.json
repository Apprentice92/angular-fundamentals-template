{"ast":null,"code":"import { NG_VALIDATORS } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nexport class EmailValidatorDirective {\n  validate(control) {\n    return emailValidator()(control);\n  }\n}\nEmailValidatorDirective.ɵfac = function EmailValidatorDirective_Factory(t) {\n  return new (t || EmailValidatorDirective)();\n};\nEmailValidatorDirective.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n  type: EmailValidatorDirective,\n  selectors: [[\"\", \"emailValidator\", \"\"]],\n  features: [i0.ɵɵProvidersFeature([{\n    provide: NG_VALIDATORS,\n    useExisting: EmailValidatorDirective,\n    multi: true\n  }])]\n});\nexport function emailValidator() {\n  return control => {\n    if (control.value == null) {\n      return null;\n    }\n    const emailRegex = /^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/i;\n    const valid = emailRegex.test(control.value);\n    return valid ? null : {\n      invalidEmail: true\n    };\n  };\n}","map":{"version":3,"mappings":"AACA,SAAuCA,aAAa,QAAkD,gBAAgB;;AAUtH,OAAM,MAAOC,uBAAuB;EAChCC,QAAQ,CAACC,OAAoB;IACzB,OAAOC,cAAc,EAAE,CAACD,OAAO,CAAC;EACpC;;AAHSF,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA,uBAAuB;EAAAI;EAAAC,iCANrB,CAAC;IACRC,OAAO,EAAEP,aAAa;IACtBQ,WAAW,EAAEP,uBAAuB;IACpCQ,KAAK,EAAE;GACV,CAAC;AAAA;AAQN,OAAM,SAAUL,cAAc;EAC1B,OAAQD,OAAwB,IAA6B;IAC3D,IAAGA,OAAO,CAACO,KAAK,IAAI,IAAI,EAAC;MACvB,OAAO,IAAI;;IAEb,MAAMC,UAAU,GAAG,0CAA0C;IAC7D,MAAMC,KAAK,GAAGD,UAAU,CAACE,IAAI,CAACV,OAAO,CAACO,KAAK,CAAC;IAC5C,OAAOE,KAAK,GAAG,IAAI,GAAG;MAAEE,YAAY,EAAE;IAAI,CAAE;EAC9C,CAAC;AACH","names":["NG_VALIDATORS","EmailValidatorDirective","validate","control","emailValidator","selectors","features","provide","useExisting","multi","value","emailRegex","valid","test","invalidEmail"],"sourceRoot":"","sources":["C:\\Prog\\EPAM2\\Angular1\\angular-fundamentals-template\\src\\app\\shared\\directives\\email.directive.ts"],"sourcesContent":["import { Directive } from \"@angular/core\";\r\nimport { AbstractControl, FormControl, NG_VALIDATORS, ValidationErrors, Validator, ValidatorFn } from \"@angular/forms\";\r\n\r\n@Directive({\r\n    selector: '[emailValidator]',\r\n    providers: [{\r\n        provide: NG_VALIDATORS,\r\n        useExisting: EmailValidatorDirective,\r\n        multi: true,\r\n    }]\r\n})\r\nexport class EmailValidatorDirective implements Validator {\r\n    validate(control: FormControl): ValidationErrors | null {\r\n        return emailValidator()(control);\r\n    }\r\n}\r\n\r\nexport function emailValidator(): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      if(control.value == null){\r\n        return null;\r\n      }  \r\n      const emailRegex = /^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/i;\r\n      const valid = emailRegex.test(control.value);\r\n      return valid ? null : { invalidEmail: true };\r\n    };\r\n  }"]},"metadata":{},"sourceType":"module","externalDependencies":[]}