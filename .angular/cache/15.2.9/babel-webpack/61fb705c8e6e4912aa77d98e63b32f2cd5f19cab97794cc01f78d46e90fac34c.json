{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/auth/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../button/button.component\";\nimport * as i6 from \"../modal/modal.component\";\nimport * as i7 from \"@shared/directives/email.directive\";\nconst _c0 = [\"loginForm\"];\nfunction LoginFormComponent_div_11_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Email is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginFormComponent_div_11_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Invalid email format.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginFormComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, LoginFormComponent_div_11_span_1_Template, 2, 0, \"span\", 20);\n    i0.ɵɵtemplate(2, LoginFormComponent_div_11_span_2_Template, 2, 0, \"span\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors == null ? null : _r1.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors == null ? null : _r1.errors[\"invalidEmail\"]);\n  }\n}\nfunction LoginFormComponent_div_17_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Password is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginFormComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, LoginFormComponent_div_17_span_1_Template, 2, 0, \"span\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(16);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors[\"required\"]);\n  }\n}\nexport class LoginFormComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.isLoading = false;\n    this.showModal = false;\n    this.modalTitle = \"Login Error\";\n    this.modalMessage = \"\";\n  }\n  onSubmit() {\n    if (this.loginForm.valid) {\n      this.isLoading = true;\n      this.authService.login(this.loginForm.value).subscribe({\n        next: () => {\n          console.log(\"Logged in successfully!\");\n          this.isLoading = false;\n          this.router.navigate([\"/courses\"]);\n        },\n        error: errorMessage => {\n          console.error(\"Login failed:\", errorMessage);\n          this.modalMessage = errorMessage;\n          this.showModal = true;\n          this.isLoading = false;\n        }\n      });\n    } else {\n      this.modalMessage = \"Form is not valid\";\n      this.loginForm.control.markAllAsTouched();\n    }\n  }\n  closeModal() {\n    this.showModal = false;\n  }\n}\nLoginFormComponent.ɵfac = function LoginFormComponent_Factory(t) {\n  return new (t || LoginFormComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nLoginFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginFormComponent,\n  selectors: [[\"app-login-form\"]],\n  viewQuery: function LoginFormComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.loginForm = _t.first);\n    }\n  },\n  decls: 26,\n  vars: 7,\n  consts: [[1, \"text-align-center\"], [1, \"app-plate\"], [3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [1, \"login-form\"], [1, \"form__control\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"emailInput\", \"name\", \"email\", \"placeholder\", \"Input text\", \"required\", \"\", \"emailValidator\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"emailModel\", \"ngModel\"], [\"id\", \"emailErrorMessage\", \"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"passwordInput\", \"name\", \"password\", \"placeholder\", \"Input text\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"passwordModel\", \"ngModel\"], [\"id\", \"passwordErrorMessage\", \"class\", \"text-danger\", 4, \"ngIf\"], [1, \"form__action\"], [\"buttonText\", \"Login\", \"type\", \"submit\"], [1, \"form__text\"], [\"href\", \"register\"], [3, \"showModal\", \"title\", \"message\", \"close\"], [\"id\", \"emailErrorMessage\", 1, \"text-danger\"], [4, \"ngIf\"], [\"id\", \"passwordErrorMessage\", 1, \"text-danger\"]],\n  template: function LoginFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\", 0);\n      i0.ɵɵtext(1, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginFormComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"label\", 6);\n      i0.ɵɵtext(8, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 7, 8);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginFormComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, LoginFormComponent_div_11_Template, 3, 2, \"div\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 5)(13, \"label\", 10);\n      i0.ɵɵtext(14, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 11, 12);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginFormComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, LoginFormComponent_div_17_Template, 2, 1, \"div\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 14);\n      i0.ɵɵelement(19, \"app-button\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 16);\n      i0.ɵɵtext(21, \" If you don't have an account you may \");\n      i0.ɵɵelementStart(22, \"strong\")(23, \"a\", 17);\n      i0.ɵɵtext(24, \"Registration\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(25, \"app-modal\", 18);\n      i0.ɵɵlistener(\"close\", function LoginFormComponent_Template_app_modal_close_25_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(10);\n      const _r3 = i0.ɵɵreference(16);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r1.invalid && (_r1.dirty || _r1.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r3.invalid && (_r3.dirty || _r3.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"showModal\", ctx.showModal)(\"title\", ctx.modalTitle)(\"message\", ctx.modalMessage);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i5.ButtonComponent, i6.ModalComponent, i7.EmailValidatorDirective],\n  styles: [\".app-plate[_ngcontent-%COMP%] {\\n  width: 100%;\\n  min-height: 477px;\\n  background-color: #fff;\\n  border: 1px solid #CFCFCF;\\n  border-radius: 4px;\\n  padding: 32px;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.text-align-center[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.app-error-text[_ngcontent-%COMP%] {\\n  color: #FF0000;\\n  position: absolute;\\n  margin-top: 4px;\\n}\\n\\n.form__control[_ngcontent-%COMP%] {\\n  margin-bottom: 24px;\\n}\\n.form__action[_ngcontent-%COMP%] {\\n  margin-top: 54px;\\n}\\n.form__text[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-top: 38px;\\n  flex-wrap: wrap;\\n}\\n\\n.separator[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-bottom: 1px solid #CFCFCF;\\n}\\n\\n.text-danger[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\n.login-form[_ngcontent-%COMP%] {\\n  width: 260px;\\n  margin-top: 36px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n\\napp-button[_ngcontent-%COMP%] {\\n  width: 260px;\\n  margin-top: 36px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL3N0eWxlcy9zdHlsZXMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvbG9naW4tZm9ybS9sb2dpbi1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBO0VBQ0ksV0FBQTtFQUNBLGlCQUFBO0VBQ0Esc0JBUFU7RUFRVix5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtBQ0hKOztBRE1BO0VBQ0ksa0JBQUE7QUNISjs7QURNQTtFQUNJLGNBbEJRO0VBbUJSLGtCQUFBO0VBQ0EsZUFBQTtBQ0hKOztBRE9JO0VBQ0ksbUJBQUE7QUNKUjtBRE9JO0VBQ0ksZ0JBQUE7QUNMUjtBRFFJO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNGLGVBQUE7QUNOTjs7QURVQTtFQUNJLFdBQUE7RUFDQSxnQ0FBQTtBQ1BKOztBRFVBO0VBQ0ksVUFBQTtBQ1BKOztBQXZDQTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLDhCQUFBO0FBMENGOztBQXZDQTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLDhCQUFBO0FBMENGIiwic291cmNlc0NvbnRlbnQiOlsiJGNvbG9yLXdoaXRlOiAjZmZmO1xyXG4kY29sb3ItZ3JheTogI0NGQ0ZDRjtcclxuJGNvbG9yLXJlZDogI0ZGMDAwMDtcclxuXHJcbi5hcHAtcGxhdGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtaW4taGVpZ2h0OiA0NzdweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvci13aGl0ZTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICRjb2xvci1ncmF5O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgcGFkZGluZzogMzJweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLnRleHQtYWxpZ24tY2VudGVyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmFwcC1lcnJvci10ZXh0IHtcclxuICAgIGNvbG9yOiAkY29sb3ItcmVkO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG59XHJcblxyXG4uZm9ybSB7XHJcbiAgICAmX19jb250cm9sIHtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgfVxyXG5cclxuICAgICZfX2FjdGlvbiB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogNTRweDtcclxuICAgIH1cclxuXHJcbiAgICAmX190ZXh0IHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMzhweDtcclxuICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAgfVxyXG59XHJcblxyXG4uc2VwYXJhdG9yIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICRjb2xvci1ncmF5O1xyXG59XHJcblxyXG4udGV4dC1kYW5nZXIge1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG4iLCJAaW1wb3J0ICdzcmMvYXBwL3NoYXJlZC9zdHlsZXMvc3R5bGVzLnNjc3MnO1xyXG4ubG9naW4tZm9ybSB7XHJcbiAgd2lkdGg6IDI2MHB4O1xyXG4gIG1hcmdpbi10b3A6IDM2cHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG5cclxuYXBwLWJ1dHRvbiB7XHJcbiAgd2lkdGg6IDI2MHB4O1xyXG4gIG1hcmdpbi10b3A6IDM2cHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;IAqBUA,4BAA8C;IAAAA,kCAAkB;IAAAA,iBAAO;;;;;IACvEA,4BAAkD;IAAAA,qCAAqB;IAAAA,iBAAO;;;;;IANhFA,+BAIC;IACCA,6EAAuE;IACvEA,6EAA8E;IAChFA,iBAAM;;;;;IAFGA,eAAqC;IAArCA,yEAAqC;IACrCA,eAAyC;IAAzCA,6EAAyC;;;;;IAmBhDA,4BAAiD;IAAAA,qCAAqB;IAAAA,iBAAO;;;;;IAL/EA,+BAIC;IACCA,6EAA6E;IAC/EA,iBAAM;;;;;IADGA,eAAwC;IAAxCA,yEAAwC;;;AC7BzD,OAAM,MAAOC,kBAAkB;EAQ7BC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAJ5D,cAAS,GAAG,KAAK;IACjB,cAAS,GAAG,KAAK;IACjB,eAAU,GAAG,aAAa;IAC1B,iBAAY,GAAG,EAAE;EACsD;EACvEC,QAAQ;IACN,IAAI,IAAI,CAACC,SAAS,CAACC,KAAK,EAAE;MACxB,IAAI,CAACC,SAAS,GAAG,IAAI;MACrB,IAAI,CAACL,WAAW,CAACM,KAAK,CAAC,IAAI,CAACH,SAAS,CAACI,KAAK,CAAC,CAACC,SAAS,CAAC;QACrDC,IAAI,EAAE,MAAK;UACTC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;UACtC,IAAI,CAACN,SAAS,GAAG,KAAK;UACtB,IAAI,CAACJ,MAAM,CAACW,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;QACpC,CAAC;QACDC,KAAK,EAAGC,YAAY,IAAI;UACtBJ,OAAO,CAACG,KAAK,CAAC,eAAe,EAAEC,YAAY,CAAC;UAC5C,IAAI,CAACC,YAAY,GAAGD,YAAY;UAChC,IAAI,CAACE,SAAS,GAAG,IAAI;UACrB,IAAI,CAACX,SAAS,GAAG,KAAK;QACxB;OACD,CAAC;KACH,MAAM;MACL,IAAI,CAACU,YAAY,GAAG,mBAAmB;MACvC,IAAI,CAACZ,SAAS,CAACc,OAAO,CAACC,gBAAgB,EAAE;;EAE7C;EACAC,UAAU;IACR,IAAI,CAACH,SAAS,GAAG,KAAK;EACxB;;AAhCWlB,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAsB;EAAAC;IAAA;;;;;;;;;;;;;MDZ/BxB,6BAA8B;MAAAA,qBAAK;MAAAA,iBAAK;MACxCA,8BAAuB;MACKA;QAAA,OAAYyB,cAAU;MAAA,EAAC;MAC/CzB,8BAAwB;MAEDA,qBAAK;MAAAA,iBAAQ;MAChCA,mCASE;MAJAA;QAAA;MAAA,EAAmB;MALrBA,iBASE;MACFA,qEAOM;MACRA,iBAAM;MACNA,+BAA2B;MACHA,yBAAQ;MAAAA,iBAAQ;MACtCA,sCAQE;MAHAA;QAAA;MAAA,EAAsB;MALxBA,iBAQE;MACFA,sEAMM;MACRA,iBAAM;MACNA,gCAA0B;MACxBA,kCAA0D;MAC5DA,iBAAM;MAENA,gCAAwB;MACtBA,uDAAqC;MAAAA,+BAAQ;MAAoBA,6BAAY;MAAAA,iBAAI;MAKzFA,sCAAwG;MAAvBA;QAAA,OAASyB,gBAAY;MAAA,EAAC;MAACzB,iBAAY;;;;;MA3C1GA,eAAmB;MAAnBA,mCAAmB;MAMlBA,eAAoE;MAApEA,gEAAoE;MAerEA,eAAsB;MAAtBA,sCAAsB;MAKrBA,eAA6E;MAA7EA,gEAA6E;MAiB7EA,eAAuB;MAAvBA,yCAAuB","names":["i0","LoginFormComponent","constructor","authService","router","onSubmit","loginForm","valid","isLoading","login","value","subscribe","next","console","log","navigate","error","errorMessage","modalMessage","showModal","control","markAllAsTouched","closeModal","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Prog\\EPAM2\\Angular1\\angular-fundamentals-template\\src\\app\\shared\\components\\login-form\\login-form.component.html","C:\\Prog\\EPAM2\\Angular1\\angular-fundamentals-template\\src\\app\\shared\\components\\login-form\\login-form.component.ts"],"sourcesContent":["<h2 class=\"text-align-center\">Login</h2>\r\n<div class=\"app-plate\">\r\n  <form #loginForm=\"ngForm\" (ngSubmit)=\"onSubmit()\">\r\n    <div class=\"login-form\">\r\n      <div class=\"form__control\">\r\n        <label for=\"email\">Email</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"emailInput\"\r\n          name=\"email\"\r\n          placeholder=\"Input text\"\r\n          [(ngModel)]=\"email\"\r\n          #emailModel=\"ngModel\"\r\n          required\r\n          emailValidator\r\n        />\r\n        <div\r\n          *ngIf=\"emailModel.invalid && (emailModel.dirty || emailModel.touched)\"\r\n          id=\"emailErrorMessage\"\r\n          class=\"text-danger\"\r\n        >\r\n          <span *ngIf=\"emailModel.errors?.['required']\">Email is required.</span>\r\n          <span *ngIf=\"emailModel.errors?.['invalidEmail']\">Invalid email format.</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"form__control\">\r\n        <label for=\"password\">Password</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"passwordInput\"\r\n          name=\"password\"\r\n          placeholder=\"Input text\"\r\n          [(ngModel)]=\"password\"\r\n          #passwordModel=\"ngModel\"\r\n          required\r\n        />\r\n        <div\r\n          *ngIf=\"passwordModel.invalid && (passwordModel.dirty || passwordModel.touched)\"\r\n          id=\"passwordErrorMessage\"\r\n          class=\"text-danger\"\r\n        >\r\n          <span *ngIf=\"passwordModel.errors?.['required']\">Password is required.</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"form__action\">\r\n        <app-button buttonText=\"Login\" type=\"submit\"></app-button>\r\n      </div>\r\n\r\n      <div class=\"form__text\">\r\n        If you don't have an account you may <strong> <a href=\"register\">Registration</a></strong>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n<app-modal [showModal]=\"showModal\" [title]=\"modalTitle\" [message]=\"modalMessage\" (close)=\"closeModal()\"></app-modal>","import { Component, ViewChild } from \"@angular/core\";\r\nimport { NgForm } from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { AuthService } from \"@app/auth/services/auth.service\";\r\nimport { map } from \"rxjs\";\r\n\r\n@Component({\r\n  selector: 'app-login-form',\r\n  templateUrl: './login-form.component.html',\r\n  styleUrls: ['./login-form.component.scss'],\r\n})\r\n\r\nexport class LoginFormComponent {\r\n  @ViewChild(\"loginForm\") public loginForm!: NgForm;\r\n  email!: string;\r\n  password!: string;\r\n  isLoading = false;\r\n  showModal = false;\r\n  modalTitle = \"Login Error\";\r\n  modalMessage = \"\";\r\n  constructor(private authService: AuthService, private router: Router) {}\r\n  onSubmit() {\r\n    if (this.loginForm.valid) {\r\n      this.isLoading = true;\r\n      this.authService.login(this.loginForm.value).subscribe({\r\n        next: () => {\r\n          console.log(\"Logged in successfully!\");\r\n          this.isLoading = false;\r\n          this.router.navigate([\"/courses\"]);\r\n        },\r\n        error: (errorMessage) => {\r\n          console.error(\"Login failed:\", errorMessage);\r\n          this.modalMessage = errorMessage;\r\n          this.showModal = true;\r\n          this.isLoading = false;\r\n        },\r\n      });\r\n    } else {\r\n      this.modalMessage = \"Form is not valid\";\r\n      this.loginForm.control.markAllAsTouched();\r\n    }\r\n  }\r\n  closeModal() {\r\n    this.showModal = false;\r\n  }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}